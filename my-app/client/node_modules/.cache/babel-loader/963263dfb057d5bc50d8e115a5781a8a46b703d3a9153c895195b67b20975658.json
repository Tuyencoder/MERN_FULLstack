{"ast":null,"code":"// import Resizer from 'react-image-file-resizer'\n// import axios from \"axios\";\n// export default function ImageUpload({ ad, setAd }) {\n//     const handleUpload = (e) => {\n//         let files = e.target.files;\n//         files = [...files];\n//         if (files?.length) {\n//           setAd({ ...ad, uploading: true });\n//           files.map((f) => {\n//             // upload\n//             new Promise((resolve) => {\n//               Resizer.imageFileResizer(\n//                 f,\n//                 1080,\n//                 720,\n//                 \"JPEG\",\n//                 100,\n//                 0,\n//                 async (uri) => {\n//                   try {\n//                     const { data } = await axios.post(\"/upload-image\", {\n//                       image: uri,\n//                     });\n//                     setAd((prev) => ({\n//                       ...prev,\n//                       photos: [data, ...prev.photos],\n//                       uploading: false,\n//                     }));\n//                   } catch (err) {\n//                     console.log(\"photo upload err => \", err);\n//                     setAd({ ...ad, uploading: false });\n//                   }\n//                 },\n//                 \"base64\"\n//               );\n//             });\n//           });\n//         } else {\n//           setAd({ ...ad, uploading: false });\n//         }\n//       };\n\n//     const handleDelete = async (photo) => {\n//       setAd({ ...ad, uploading: true });\n//       try {\n//         console.log(\"send API request to remove file\");\n//       } catch (err) {\n//         console.log(err);\n//         setAd({ ...ad, removing: false });\n//       }\n//     };\n\n//     return (\n//       <>\n//         <div className=\"d-flex mt-4\">\n//           <label className=\"btn btn-secondary\">\n//             {ad.uploading\n//               ? \"Uploading...\"\n//               : ad.removing\n//               ? \"Removing...\"\n//               : \"Upload photos\"}\n//             <input\n//               onChange={handleUpload}\n//               type=\"file\"\n//               accept=\"image/*\"\n//               multiple\n//               hidden\n//             />\n//           </label>\n//         </div>\n//       </>\n//     );\n//   }","map":{"version":3,"names":[],"sources":["C:/Users/PC/OneDrive/Desktop/Project/MERN_FULLstack/my-app/client/src/components/forms/ImageUpload.js"],"sourcesContent":["// import Resizer from 'react-image-file-resizer'\r\n// import axios from \"axios\";\r\n// export default function ImageUpload({ ad, setAd }) {\r\n//     const handleUpload = (e) => {\r\n//         let files = e.target.files;\r\n//         files = [...files];\r\n//         if (files?.length) {\r\n//           setAd({ ...ad, uploading: true });\r\n//           files.map((f) => {\r\n//             // upload\r\n//             new Promise((resolve) => {\r\n//               Resizer.imageFileResizer(\r\n//                 f,\r\n//                 1080,\r\n//                 720,\r\n//                 \"JPEG\",\r\n//                 100,\r\n//                 0,\r\n//                 async (uri) => {\r\n//                   try {\r\n//                     const { data } = await axios.post(\"/upload-image\", {\r\n//                       image: uri,\r\n//                     });\r\n//                     setAd((prev) => ({\r\n//                       ...prev,\r\n//                       photos: [data, ...prev.photos],\r\n//                       uploading: false,\r\n//                     }));\r\n//                   } catch (err) {\r\n//                     console.log(\"photo upload err => \", err);\r\n//                     setAd({ ...ad, uploading: false });\r\n//                   }\r\n//                 },\r\n//                 \"base64\"\r\n//               );\r\n//             });\r\n//           });\r\n//         } else {\r\n//           setAd({ ...ad, uploading: false });\r\n//         }\r\n//       };\r\n  \r\n//     const handleDelete = async (photo) => {\r\n//       setAd({ ...ad, uploading: true });\r\n//       try {\r\n//         console.log(\"send API request to remove file\");\r\n//       } catch (err) {\r\n//         console.log(err);\r\n//         setAd({ ...ad, removing: false });\r\n//       }\r\n//     };\r\n\r\n//     return (\r\n//       <>\r\n//         <div className=\"d-flex mt-4\">\r\n//           <label className=\"btn btn-secondary\">\r\n//             {ad.uploading\r\n//               ? \"Uploading...\"\r\n//               : ad.removing\r\n//               ? \"Removing...\"\r\n//               : \"Upload photos\"}\r\n//             <input\r\n//               onChange={handleUpload}\r\n//               type=\"file\"\r\n//               accept=\"image/*\"\r\n//               multiple\r\n//               hidden\r\n//             />\r\n//           </label>\r\n//         </div>\r\n//       </>\r\n//     );\r\n//   }"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}