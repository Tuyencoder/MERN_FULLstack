{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\OneDrive\\\\Desktop\\\\Project\\\\MERN_FULLstack\\\\my-app\\\\client\\\\src\\\\components\\\\routes\\\\PrivateRoute.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport { useAuth } from \"../../context/auth\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrivateRoute = () => {\n  _s();\n  const [auth, setAuth] = useAuth();\n  const [ok, setOk] = useState(false);\n  useEffect(() => {\n    if (auth !== null && auth !== void 0 && auth.token) getCurrentUser();\n  }, [auth === null || auth === void 0 ? void 0 : auth.token]);\n  const getCurrentUser = async () => {\n    try {\n      const {\n        data\n      } = await axios.get(`/current-user`, {\n        headers: {\n          Authorization: auth === null || auth === void 0 ? void 0 : auth.token\n        }\n      });\n      setOk(true);\n    } catch (err) {\n      setOk(false);\n    }\n  };\n  return ok ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 15\n  }, this) : \"\";\n};\n_s(PrivateRoute, \"+2htVtRt8Ah31yun8GWbqq8w0w8=\", false, function () {\n  return [useAuth];\n});\n_c = PrivateRoute;\nexport default PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["useEffect","useState","Outlet","useAuth","axios","jsxDEV","_jsxDEV","PrivateRoute","_s","auth","setAuth","ok","setOk","token","getCurrentUser","data","get","headers","Authorization","err","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/PC/OneDrive/Desktop/Project/MERN_FULLstack/my-app/client/src/components/routes/PrivateRoute.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport { useAuth } from \"../../context/auth\";\r\nimport axios from \"axios\";\r\n\r\nconst PrivateRoute = () => {\r\n  const [auth, setAuth] = useAuth();\r\n  const [ok, setOk] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (auth?.token) getCurrentUser();\r\n  }, [auth?.token]);\r\n\r\n  const getCurrentUser = async () => {\r\n    try {\r\n      const { data } = await axios.get(`/current-user`, {\r\n        headers: {\r\n          Authorization: auth?.token,\r\n        },\r\n      });\r\n      setOk(true);\r\n    } catch (err) {\r\n      setOk(false);\r\n    }\r\n  };\r\n\r\n  return ok ? <Outlet /> : \"\";\r\n};\r\n\r\nexport default PrivateRoute;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,MAAM,QAAQ,kBAAkB;AACzC,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,OAAO,CAAC,CAAC;EACjC,MAAM,CAACQ,EAAE,EAAEC,KAAK,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAEnCD,SAAS,CAAC,MAAM;IACd,IAAIS,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEI,KAAK,EAAEC,cAAc,CAAC,CAAC;EACnC,CAAC,EAAE,CAACL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,KAAK,CAAC,CAAC;EAEjB,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMX,KAAK,CAACY,GAAG,CAAE,eAAc,EAAE;QAChDC,OAAO,EAAE;UACPC,aAAa,EAAET,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI;QACvB;MACF,CAAC,CAAC;MACFD,KAAK,CAAC,IAAI,CAAC;IACb,CAAC,CAAC,OAAOO,GAAG,EAAE;MACZP,KAAK,CAAC,KAAK,CAAC;IACd;EACF,CAAC;EAED,OAAOD,EAAE,gBAAGL,OAAA,CAACJ,MAAM;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC,GAAG,EAAE;AAC7B,CAAC;AAACf,EAAA,CAtBID,YAAY;EAAA,QACQJ,OAAO;AAAA;AAAAqB,EAAA,GAD3BjB,YAAY;AAwBlB,eAAeA,YAAY;AAAC,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}